<ion-card *ngIf="chiesa">

  <ion-card-header>

    <ion-item lines="none">
      <ion-card-title class="ion-text-wrap title x-large" [innerHTML]="chiesa[0]?.pmdb_titolo | titleDeleteComa"></ion-card-title>
      <ion-button *ngIf="!virtualTour"  color="dark" [hidden]="isPrefferedYet" fill="outline" slot="end" (click)="addToPreferiti()">
        <ion-icon name="heart-outline" class="title"></ion-icon>
      </ion-button>
    </ion-item>
    <ion-item *ngIf="!virtualTour ">
      <span class=" ion-text-wrap text larger">
        {{ 'inzia-visita-interattiva' | translatePipe}}
      </span>
      <ion-button fill="outline" slot="end" color="dark"  [routerLink]="['/tablinks/dashboard']">
        <ion-icon name="radio-outline" class="title"></ion-icon>
      </ion-button> 
    </ion-item>
    <ion-item *ngIf="!virtualTour">
      <span class=" ion-text-wrap text larger">
        {{ 'indicazioni-stradali' | translatePipe}}
      </span>
      <ion-button fill="outline" slot="end" color="dark"  (click)="openMaps()">
        <ion-icon name="navigate-outline" class="title"></ion-icon>
      </ion-button>
    </ion-item>

  </ion-card-header>

  <ion-slides pager="true" [options]="slideOpts" *ngIf="chiesa[0]?.galleria_foto.length > 0">
    <ion-slide *ngFor="let foto of chiesa[0]?.galleria_foto">
      <img class="img-chiesa" src="{{foto}}" (click)="showImageFullScren(foto)" />
    </ion-slide>
  </ion-slides>

  <img *ngIf="chiesa[0]?.galleria_foto.length == 0" src="{{chiesa[0]?.pmdb_immagine_in_evidenza.large}}" />
  <ion-card-content>

    <ion-item lines="none">
      <ion-icon class="title" slot="start" name="pin-outline"></ion-icon>
      <span class="ion-text-wrap text larger" [innerHTML]="chiesa[0]?.pmdb_location_city"></span>
    </ion-item>

    <ion-item>
      <ion-icon class="title" slot="start" name="map-outline"></ion-icon>
      <span class="ion-text-wrap text larger" [innerHTML]="chiesa[0]?.pmdb_location_address"></span>

    </ion-item>

    <ion-item lines="none">
      <ion-icon class="title" slot="start" name="text-outline"></ion-icon>
      <span class="ion-text-wrap title larger">
        {{ 'narrazione' | translatePipe}}
      </span>
    </ion-item>

    <ion-item>
      <span class="ion-text-wrap text large" [innerHTML]="chiesa[0]?.pmdb_contenuto">
      </span>
    </ion-item>


    <ion-row class="ion-align-items-center">
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="ShareGeneric('text')">
          <ion-icon name="share-social-outline" class="title"> </ion-icon>
        </ion-button>
      </ion-col>
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="SendEmail()">
          <ion-icon name="mail-outline" class="title"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="ShareFacebook()">
          <ion-icon name="logo-facebook" class="title"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="ShareWhatsapp()">
          <ion-icon name="logo-whatsapp" class="title"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>

    <div *ngIf="virtualTour && esterno">
      <ion-item lines="none">
        <ion-icon class="title" slot="start" name="film-outline"></ion-icon>
        <span class="ion-text-wrap title x-large">
          {{ 'multimedia' | translatePipe}}
        </span>
      </ion-item>

      <ion-item class="ion-margin-top" *ngIf="chiesa[0]?.video">
        <iframe id="iframe" [hidden]="!showIframe" style="width: 100%; height: 70vh;"
          [src]="dashboardTemplateService.iframeSanitize(chiesa[0])" allowfullscreen="true">
        </iframe>
      </ion-item>

    </div>

    <div *ngIf="!virtualTour">
      <ion-item lines="none">
        <ion-icon slot="start" class="title" name="film-outline"></ion-icon>
        <span class="ion-text-wrap title larger" color="primary">
          <b>{{ 'istruzioni-sblocco-multimedia' | translatePipe}}</b>
        </span>
      </ion-item>
      <ion-slides pager="true">

        <ion-slide>
          <span class="ion-text-wrap title larger">{{ 'attiva-bluetooth' | translatePipe}}</span>
          <p><b></b></p>
          <img src="../../../../assets/images/slide-2.png" />
        </ion-slide>

        <ion-slide style="
        width: 50%;">
          <div class="slide">
            <span [routerLink]="['/tablinks/dashboard']" class="ion-text-wrap title larger">{{ 'scansione' | translatePipe}}</span>
            <p class="ion-text-wrap title larger"><b>{{ 'premi-su-tab-scansione' | translatePipe}}</b></p>
            <img src="../../../../assets/images/slide-1.png" />
          </div>
        </ion-slide>

        <ion-slide>
          <span class="ion-text-wrap title larger">{{ 'avvicinati-alla-chiesa' | translatePipe}}</span>
          <p><b></b></p>
          <img src="../../../../assets/images/slide-3.png" />
        </ion-slide>

        <ion-slide>
          <span class="ion-text-wrap title larger">{{ 'scopri-i-multimedia' | translatePipe}}</span>
          <p><b></b></p>
          <img src="../../../../assets/images/slide-4.png" />
        </ion-slide>

      </ion-slides>
    </div>

    <ion-item *ngIf="chiesa[0]?.bibliografia">
      <ion-label class="ion-text-wrap" color="dark" [innerHTML]="chiesa[0]?.bibliografia">
      </ion-label>
    </ion-item>

  </ion-card-content>
</ion-card>

<ion-card *ngIf="!chiesa">
  <div class="ion-padding custom-skeleton">
    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
    <ion-skeleton-text animated></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
  </div>


  <ion-card-header>

    <ion-item lines="none">
      <ion-card-title class="ion-text-wrap">
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-card-title>
      <ion-icon>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </ion-icon>
    </ion-item>
    <ion-item>
      <ion-card-title class="ion-text-wrap">
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-card-title>
      <ion-icon>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </ion-icon>
    </ion-item>
  </ion-card-header>
  <ion-card-content>

    <ion-item lines="none">
      <ion-label>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
      </ion-label>
    </ion-item>


    <ion-item>
      <ion-label>
        <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

  </ion-card-content>
</ion-card>